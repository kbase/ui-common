<!DOCTYPE html>

<html>

    <head>

        <!--<link href="../../ext/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
        <link href="../../ext/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">

        <script data-main = '../../src/kbpaths' src = '../../ext/requirejs/2.1.9/require.js'></script>-->

<link href="../../ext/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<link href="../../ext/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">

<script data-main = '../../src/kbpaths' src = '../../ext/requirejs/2.1.9/require.js'></script>

<script type = 'text/javascript'>
    var kb_use_require = true;
    var kb_norequire = function(deps, callback) {
        callback(jQuery);
    };
    var kb_nodefine = function(module, deps, callback) {
        callback(jQuery);
    };
    if (kb_use_require) {
        kb_define = define;
        kb_require = require;
    }
    else {
        kb_define = kb_nodefine;
        kb_require = kb_norequire;
    }
</script>

<style>
.bar {

}

.axis path,
.axis line {
    fill: none;
    stroke: black;
    shape-rendering: crispEdges;
}

.axis text {
    font-family: sans-serif;
    font-size: 11px;
}

</style>


        <script type = 'text/javascript'>
            <!--

                function getParameterByName(name) {
                  name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
                  var regexS = "[\\?&]" + name + "=([^&#]*)";
                  var regex = new RegExp(regexS);
                  var results = regex.exec(window.location.search);
                  if(results == null)
                    return "";
                  else
                    return decodeURIComponent(results[1].replace(/\+/g, " "));
                }

                require(['kbpaths'], function() {
                    require(['jquery',
		'kbwidget',
		'kbaseBarchart',
		'kbasePMIBarchart',
		'kbaseHistogram',
		'kbaseHeatmap',
		'kbaseLinechart',
		'kbaseSparkline',
		'kbaseLineSerieschart',
		'kbaseScatterplot',
		'kbasePiechart',
		'kbaseForcedNetwork',
		'kbaseTreechart',
		'kbaseCircularHeatmap',
		'kbaseChordchart',
		'kbaseVenndiagram',
		'kbaseJSONReflector',
		'GeneDistribution',
		'kbaseVisMatrix',
		'kbaseAccordion',
                        ], function(

    $,
		KBWidget,
		kbaseBarchart,
		kbasePMIBarchart,
		kbaseHistogram,
		kbaseHeatmap,
		kbaseLinechart,
		kbaseSparkline,
		kbaseLineSerieschart,
		kbaseScatterplot,
		kbasePiechart,
		kbaseForcedNetwork,
		kbaseTreechart,
		kbaseCircularHeatmap,
		kbaseChordchart,
		kbaseVenndiagram,
		kbaseJSONReflector,
		GeneDistribution,
		kbaseVisMatrix,
		kbaseAccordion) {
                        $(function() {

$('#tabs a').click(function (e) {
  e.preventDefault()
  $(this).tab('show')
})

    var $accordion = new kbaseAccordion($('#accordion'), {
            elements :
                [
                    {
                        title : 'Accordion element 1',
                        body : 'body 1'
                    },
                    {
                        title : 'Accordion element 2',
                        body : 'body 2'
                    },
                    {
                        title : 'Accordion element 3',
                        body : 'body 3'
                    },
                    {
                        title : 'Accordion element 4',
                        body : 'body 4'
                    },
                ]
        }
    );


                            var pos = getParameterByName('pos') || 'final';

                            new kbaseJSONReflector($('#json'), {
                                    scaleAxes       : true,

                                    xLabel      : 'Some useful experiment',
                                    yLabel      : 'Meaningful data',

                                    dataset : [
                                        {
                                            color : 'green',
                                            label : 'Data set 1',
                                            values : [{x : 0, y : -1}, {x : 1, y : -0.5}, {x : 2, y : 0}, {x : 3, y : 0.5}, {x : 4, y : 1}],
                                        },
                                        {
                                            color : 'blue',
                                            label : 'Data set 2',
                                            values : [{x : 0, y : 0.0001}, {x : 1, y : 100}, {x : 2, y : 0.0001}, {x : 3, y : 500}, {x : 4, y : .0001}],
                                        },
                                        {
                                            color : 'gray',
                                            label : 'mean line',
                                            dasharray : 5,
                                            values : [{x : 0, y : -0.3333}, {x : 1, y : 33.5}, {x : 2, y : 0.6667}, {x : 3, y : 167.833}, {x : 4, y : 1.6667}],
                                        },
                                    ],

                                }
                            );

                            var sin = [];
                            var sin2 = [];
                            for (var i = 20; i < 200; i++) {
                                sin.push(
                                    {
                                        x : i,
                                        y : 100 + 50 * Math.sin(0.1 * i),
                                        y2 : 50 + 50 * Math.sin(0.1 * i)
                                    }
                                );
                                sin2.push(75 + 50 * Math.sin(0.1 * i));
                            }

                            var area1 = [];
                            for (var i = 0; i < 200; i++) {
                                area1.push(
                                    {
                                        x : i,
                                        y : i * i,
                                        y2 : 0
                                    }
                                )
                            };

                            var area2 = [];
                            for (var i = 0; i < 200; i++) {
                                area2.push(
                                    {
                                        x : i,
                                        y : Math.abs(Math.sin(i)) * i * i,
                                        y2 : 0
                                    }
                                )
                            };

                            var area3 = [];
                            for (var i = 0; i < 200; i++) {
                                area3.push(
                                    {
                                        x : i,
                                        y : i * i / 2,
                                        y2 : 0
                                    }
                                )
                            };

                            var area4 = [];
                            for (var i = 0; i < 200; i++) {
                                area4.push(
                                    {
                                        x : i,
                                        y : (i - 100) * (i - 100),
                                        y2 : 0
                                    }
                                )
                            };

                            var $line = new kbaseLinechart($('#linechartWidget'), {

                                    legendRegion : 'xGutter',
                                    xGutter : 75,
                                    useOverLine : false,

                                    autoLegend : true,

                                    xLabelSize : '12pt',
                                    yLabelSize : '12pt',

                                    scaleAxes       : true,

                                    xLabel      : 'Expression profile',
                                    yLabel      : 'Meaningful data',
                                    xLabelRegion : 'yPadding',
                                    yLabelRegion : 'xPadding',
                                    hGrid : true,
                                    xLabels : false,
                                    transitionTime : 500,

                                    xPadding : 40,

                                    pointOver : function(d) {
                                    console.log("POINT OVER", d);
                                        this.showToolTip({label : 'point over obj'});
                                    },
                                    pointOut : function(d) {
                                        this.hideToolTip();
                                    },


                                    yLabelOffset : -7,

                                    dataset : [
                                        {
                                            strokeColor : 'red',
                                            label : 'Set 1',
                                            values : area1,
                                            width : 1,
                                            fillOpacity : 0.6,
                                            fillColor : 'red',
                                        },
                                        {
                                            strokeColor : 'blue',
                                            label : 'Set 2',
                                            values : area2,
                                            width : 1,
                                            fillOpacity : 0.6,
                                            fillColor : 'blue',
                                        },
                                        {
                                            strokeColor : 'green',
                                            label : 'Set 3',
                                            values : area3,
                                            width : 1,
                                            fillOpacity : 0.6,
                                            fillColor : 'green',
                                        },
                                        {
                                            strokeColor : 'purple',
                                            label : 'Set 4',
                                            values : area4,
                                            width : 1,
                                            fillOpacity : 0.6,
                                            fillColor : 'purple',
                                        },

                                    ],

                                }

                            );

                            $('#legend-button').on('click', function(e) {

                                /*$line.setLegend(
                                    [
                                        { label : 'able', color : 'yellow'},
                                        { label : 'baker', color : 'purple'},
                                        { label : 'charlie', color : 'black'},
                                        { label : 'delta', color : 'cyan'},
                                        { label : 'fooZ', color : 'blue'},
                                    ]
                                );*/

                                $line.dataset()[0].values.push(Math.random() * 200);
//                                $line.dataset()[1].values.push(Math.random() * 100);
                                $line.dataset()[2].values.push(Math.sin($line.dataset()[2].values.length / 10) * 50);
                               // $line.dataset()[0].values.push($line.dataset()[0].values.length * $line.dataset()[0].values.length);
                                console.log($line.dataset()[0].values);

                                $line.dataset()[0].strokeColor = 'purple';
                                $line.dataset()[0].shape = 'square';
                                $line.dataset()[1].strokeColor = 'black';
                                $line.dataset()[1].shape = 'cross';

                                $line.setDataset(
                                    /*[
                                        {
                                            strokeColor : 'orange',
                                            label : 'jagged',
                                            values : [{x : 0, y : 180}, {x : 10, y : 160}, {x : 20, y : 140}, {x : 30, y : 120}, {x : 40, y : 100}, {x : 50, y : 80},
                                                {x : 60, y : 60, label : 'label point 1'}, {x : 70, y : 40}, {x : 80, y : 20}, {x : 90, y : 0}, {x : 100, y : 20}, {x : 110, y : 40},
                                                {x : 120, y : 60}, {x : 130, y : 80}, {x : 140, y : 100, label : 'label point 2'} ],
                                            width : 2,
                                            shape : 'square',
                                            shapeArea : 64,
                                            //fillColor : 'red',
                                            pointOver : function(d) {
                                                this.showToolTip({label : 'point over line'});
                                            },
                                            pointOut : function(d) {
                                                this.hideToolTip();
                                            }
                                        }
                                    ]*/
                                    $line.dataset()
                                );

                            });


                            var spark1 = [];
                            var spark2 = [];
                            var spark3 = [];
                            for (var i = 0; i < 75; i++) {
                                spark1.push(Math.random());
                                spark2.push(Math.random());
                                spark3.push(Math.random());

                                if (i == 20) {
                                    spark2.push({
                                        y : Math.random(),
                                        shape : 'circle',
                                        shapeArea : 9,
                                        color : 'red'
                                    });
                                }
                            }

                            var $spark1 = new kbaseSparkline($('#spark1'), { dataset : spark1 } );
                            var $spark2 = new kbaseSparkline($('#spark2'), { dataset : spark2 } );
                            var $spark3 = new kbaseSparkline($('#spark3'), { dataset : spark3 } );


                            var bars = [];

                            for (var i = 0; i < 20; i++) {
                                bars.push(
                                    {
                                        bar   : i,
                                        color : '#00BBBB',
                                        value : Math.random() * 20 - 10,
                                        //color : ['#00BBBB', '#0000FF','#00BBBB', '#0000FF'],
                                        //value : [Math.random() * 10, Math.random() * 20,Math.random() * 10, Math.random() * 30]
                                    }
                                );
                            }
                            console.log(bars);

                            var $bar = new kbaseBarchart($.jqElem('div').css({width : '800px', height : '500px'}), {
                                    scaleAxes   : true,

                                    xLabel      : 'Survey Data',
                                    //yLabel      : 'Meaningful data',
                                    hGrid       : true,

                                    dataset : bars,

                                }

                            );

                            new kbaseBarchart($('#barchartWidget'), {
                                    scaleAxes   : true,

                                    xLabel      : 'Survey Data',
                                    //yLabel      : 'Meaningful data',
                                    hGrid : true,

                                    dataset : bars,

                                }
                            );

                            function generate_pmi_data () {
                                var pmi = { subsystems : {} };
                                var pmi_subs = pmi.subsystems;

                                var subsystems = ['Glycine metabolism', 'Serine metabolism', 'Some other metabolism', 'Important metabolism'];

                                for (var s = 0; s < subsystems.length; s++) {

                                    var sub = subsystems[s];

                                    var bars = [];

                                    for (var i = 0; i < Math.random() * 30; i++) {

                                        var val = Math.random() * 20 - 10;

                                        bars.push(
                                            {
                                                bar   : i,
                                                value : val,
                                                tooltip : 'Pop up for ' + val
                                            }
                                        );
                                    }

                                    pmi_subs[sub] = bars;

                                }

                                return pmi;

                            }

                            /*var $pmi = new kbasePMIBarchart($('#PMIbarchartWidget'), {
                                    dataset : generate_pmi_data(),
                                }
                            );*/

                            $.jqElem('div')/*('#pmi-button')*/.on('click', function(e) {
                                $pmi.setDataset(generate_pmi_data());
                            });

                            var scatterset = [];

                            var points = 200;

                            var randomColor = function() {
                                var colors = ['red', 'green', 'blue', 'cyan', 'magenta', 'yellow', 'orange', 'black'];
                                return colors[Math.floor(Math.random() * colors.length)];
                            }

                            var randomShape = function() {
                            //return 'circle';
                                var shapes = ['circle', 'circle', 'circle', 'circle', 'circle', 'circle', 'square', 'triangle-up', 'triangle-down', 'diamond', 'cross'];
                                return shapes[Math.floor(Math.random() * shapes.length)];
                            }

                            for (var idx = 0; idx < points; idx++) {
                                scatterset.push(
                                    {
                                        x : Math.random() * 500,
                                        y : Math.random() * 500,
                                        weight : Math.random() * 225,
                                        color : randomColor(),
                                        label : 'Data point ' + idx,
                                        shape : randomShape(),
                                    }
                                );
                            }

                            new kbaseScatterplot($('#scatterplotWidget'), {
                                    scaleAxes   : true,

                                    //xLabel      : 'Some useful experiment',
                                    //yLabel      : 'Meaningful data',

                                    dataset : scatterset,

                                }
                            );

                            var $pie = new kbasePiechart($('#piechartWidget'), {
                                    scaleAxes   : true,
                                    useUniqueID : false,
                                    //transitionTime : 15000,
                                    gradient : true,
                                    startingPosition : pos,

                                    xLabel      : 'Some useful pie chart',
                                    innerRadius : -100,
                                    //outerRadius : -105,
                                    outsideLabels : true,

                                    dataset : [
                                        {
                                            value : 0.25,
                                            color : '#00FFFF',
                                            label : 'one'
                                        },
                                        {
                                            value : 0.25,
                                            color : 'blue',
                                            label : 'two'
                                        },
                                        {
                                            value : 0.25,
                                            color : 'green',
                                            label : 'three'
                                        },
                                        {
                                            value : 0.125,
                                            color : 'yellow',
                                            label : 'four'
                                        },
                                        {
                                            value : 0.125,
                                            color : '#FF00FF',
                                            label : 'five'
                                        },
                                    ],

                                }
                            );

                            $('#random-pie').on('click', function(e) {

                            var randomAngle = Math.random() * 2 * Math.PI;
                            /*$pie.options.startAngle = randomAngle;
                            $pie.options.endAngle = randomAngle + 2 * Math.PI;
                            $pie.renderChart();
                            return;//*/

                                var numSlices = Math.floor(Math.random() * 20);

                                var newDataset = [];
                                for (var i = 0; i < numSlices; i++) {
                                    newDataset.push(
                                        {
                                            value : Math.random(),
                                            //color : 'red',
                                            label : 'Label ' + (i + 1),
                                        }
                                    );
                                };

                                $pie.setDataset(newDataset);

                            });


                            var $hm_c = new kbaseCircularHeatmap($('#circularHeatmap'), {

                                    startingPosition : pos,

                                    xLabel      : 'Some useful experiment',
                                    labels : false,
                                    innerRadius : 50,
                                    outerRadiusInset : 0,

                                    childOptions :
                                        {

                                            labels : false,
                                            startingPosition : pos,
                                            outerRadiusInset : 0,

                                        }

                                }
                            );

                            var numPies = 30;//Math.floor(Math.random() * 30)
                            var numSlices = 100;//Math.floor(Math.random() * 100);

                            $('#full-random-hm_c').on('click', function(e) {
                                numPies     = Math.floor(Math.random() * 30)
                                numSlices   = Math.floor(Math.random() * 100);

                                $('#random-hm_c').trigger('click');
                            });

                            $('#random-hm_c').on('click', function(e) {

                                var newDataset = [];
                                for (var i = 0; i < numPies; i++) {
                                    newDataset[i] = [];
                                }
                                for (var j = 0; j < newDataset.length; j++) {
                                    for (var i = 0; i < numSlices; i++) {

                                        var value = Math.random();

                                        newDataset[j].push(
                                            {
                                                val : value,
                                                label : 'Label ' + (i + 1),
                                                tooltip : 'Ring : ' + (j + 1) + '<br>' + 'Label : ' + (i + 1) + '<br>' + 'Value : ' + value,
                                            }
                                        );
                                    }
                                };

                                $hm_c.setDatasets(newDataset);

                            });

                            $('#random-hm_c').trigger('click');


                            var pavel_data = {"data":[[0,0,1],[0,1,0.22437378465723734],[0,2,-0.05282216846735438],[0,3,-0.0657336809229566],[0,4,0.6097317208913948],[0,5,0.5425176628844238],[0,6,0.3439309383221102],[0,7,0.037145407026350594],[0,8,0.3089556469216014],[0,9,0.7417790860781828],[0,10,-0.46134326224504935],[1,0,0.22437378465723734],[1,1,1],[1,2,0.8302880807243083],[1,3,0.7636362475320498],[1,4,0.5779936789503318],[1,5,0.839948116422643],[1,6,0.8103994528862233],[1,7,0.7998426636454904],[1,8,0.861243414952622],[1,9,0.5590565296292523],[1,10,0.39261594349622286],[2,0,-0.05282216846735438],[2,1,0.8302880807243083],[2,2,1],[2,3,0.9539172382917777],[2,4,0.4878810638547996],[2,5,0.7069512016501768],[2,6,0.5392833855877311],[2,7,0.8462648456039754],[2,8,0.7922441597490814],[2,9,0.1432476127981901],[2,10,0.2660510734471336],[3,0,-0.0657336809229566],[3,1,0.7636362475320498],[3,2,0.9539172382917777],[3,3,1],[3,4,0.5532743721921256],[3,5,0.7059430904874227],[3,6,0.4675358273403718],[3,7,0.8323376367269241],[3,8,0.7283585026398363],[3,9,0.12217567101908242],[3,10,0.15325316115813803],[4,0,0.6097317208913948],[4,1,0.5779936789503318],[4,2,0.4878810638547996],[4,3,0.5532743721921256],[4,4,1],[4,5,0.8292934171251002],[4,6,0.5990312343088248],[4,7,0.37503028486045814],[4,8,0.5344077210261144],[4,9,0.5959107085990492],[4,10,-0.28738289592618543],[5,0,0.5425176628844238],[5,1,0.839948116422643],[5,2,0.7069512016501768],[5,3,0.7059430904874227],[5,4,0.8292934171251002],[5,5,1],[5,6,0.6209056238338956],[5,7,0.7560802936681007],[5,8,0.8087395364615049],[5,9,0.5604869559136527],[5,10,-0.05083306073047172],[6,0,0.3439309383221102],[6,1,0.8103994528862233],[6,2,0.5392833855877311],[6,3,0.4675358273403718],[6,4,0.5990312343088248],[6,5,0.6209056238338956],[6,6,1],[6,7,0.428199713846343],[6,8,0.5870017427704819],[6,9,0.6863426121415102],[6,10,0.46752671641992993],[7,0,0.037145407026350594],[7,1,0.7998426636454904],[7,2,0.8462648456039754],[7,3,0.8323376367269241],[7,4,0.37503028486045814],[7,5,0.7560802936681007],[7,6,0.428199713846343],[7,7,1],[7,8,0.8696648038744825],[7,9,0.18044270237528454],[7,10,0.21519669543929473],[8,0,0.3089556469216014],[8,1,0.861243414952622],[8,2,0.7922441597490814],[8,3,0.7283585026398363],[8,4,0.5344077210261144],[8,5,0.8087395364615049],[8,6,0.5870017427704819],[8,7,0.8696648038744825],[8,8,1],[8,9,0.5433832909292271],[8,10,0.036165574629291444],[9,0,0.7417790860781828],[9,1,0.5590565296292523],[9,2,0.1432476127981901],[9,3,0.12217567101908242],[9,4,0.5959107085990492],[9,5,0.5604869559136527],[9,6,0.6863426121415102],[9,7,0.18044270237528454],[9,8,0.5433832909292271],[9,9,1],[9,10,-0.09118786691187009],[10,0,-0.46134326224504935],[10,1,0.39261594349622286],[10,2,0.2660510734471336],[10,3,0.15325316115813803],[10,4,-0.28738289592618543],[10,5,-0.05083306073047172],[10,6,0.46752671641992993],[10,7,0.21519669543929473],[10,8,0.036165574629291444],[10,9,-0.09118786691187009],[10,10,1]],"labels":["VNG0001HVNG0001HVNG0001HVNG0001H-VNG0001H","VNG0002G","VNG0003C","VNG0006G","VNG0013C","VNG0014C","VNG0361C","VNG0518H","VNG0868H","VNG0289H","VNG0852C"]};

                            var heatmap =
                                {
                                    row_ids : [],
                                    row_labels : [],
                                    column_ids : [],
                                    column_labels : [],
                                    data : [],
                                };

                            for (var idx = 0; idx < 11; idx++) {
                                var row = [];
                                heatmap.data.push(row);
                                for (var jdx = 10; jdx >= 0; jdx--) {
                                    row.push(pavel_data.data[idx * 11 + jdx][2]);
                                }
                            }

                            for (var ldx = pavel_data.labels.length - 1; ldx >= 0 ; ldx--) {
                                var label = pavel_data.labels[ldx];
                                heatmap.row_ids.push(label + '-row');
                                heatmap.row_labels.push(label);
                                heatmap.column_ids.unshift(label + '-column');
                                heatmap.column_labels.unshift(label);
                            }


                            /*var heatmap =
                                {
                                    row_ids : [],
                                    row_labels : [],
                                    column_ids : [],
                                    column_labels : [],
                                    data : [],
                                };
                            var numCells = 20;
                            var colors = ['red', 'green', 'blue', 'purple', 'cyan'];
                            for (var idx = 0; idx < numCells; idx++) {
                                var row = [];
                                heatmap.data.push(row);
                                for (var jdx = 0; jdx < numCells; jdx++) {
                                    row.push(Math.random());
                                }
                                heatmap.row_ids.push('Wingding' + idx);
                                heatmap.row_labels.push('Wingding' + idx);
                                heatmap.column_ids.push('Frobnoz' + idx);
                                heatmap.column_labels.push('Frobnoz' + idx);
                            } //*/

                            new kbaseHeatmap($('#heatmapWidget'), {
                                    dataset : heatmap,
                                    colors : ['#0000AA', '#FFFFFF', '#AA0000'],
                                    //ulIcon : '/functional-site/assets/navbar/images/kbase_logo.png',
                                    minValue : -1.0,
                                    maxValue : 1.0,
                                    aspectRatio : 'maxSquare',

                                    /*labelOver : function (d) {
                                        console.log("OVER ", d);
                                    },
                                    labelOut : function (d) {
                                        console.log("OUT OF ", d);
                                    },*/
                                }
                            );

                            new kbaseForcedNetwork($('#forcedNetwork'), {
                                    scaleAxes   : true,

                                    xLabel      : 'The Solar System',

                                    dataset : {
                                        nodes : [
                                            {name : 'sun', radius : 42, fixed : true, x : 150, y : 150, color : 'yellow'},
                                            {name : 'mercury', radius : 4, color : 'red'},
                                            {name : 'venus', radius : 8, color : 'red'},
                                            {name : 'earth', radius : 9, color : 'blue'},
                                            {name : 'moon', radius : 3, color : 'gray'},
                                            {name : 'mars', radius : 5, color : 'red'},
                                            {name : 'jupiter', radius : 20, color : 'orange'},
                                            {name : 'saturn', radius : 18, color : 'yellow',},
                                            {name : 'uranus', radius : 14, color : 'green'},
                                            {name : 'neptune', radius : 15, color : 'blue'},

                                        ],
                                        edges : [
                                            {source : 0, target : 1},
                                            {source : 1, target : 2},
                                            {source : 2, target : 3},
                                            {source : 3, target : 4, linkDistance : 20, charge : 0},
                                            {source : 3, target : 5},
                                            {source : 5, target : 6},
                                            {source : 6, target : 7},
                                            {source : 7, target : 8},
                                            {source : 8, target : 9},
                                        ]
                                    }

                                }
                            );

                            var $tree = new kbaseTreechart($('#treechartWidget'), {
                                debug : false,
                                lineStyle : 'square',
                                layout : 'cluster',
//                            displayStyle:'nt',
                            distance : 50,
                            layout : 'cluster',
                            bias : 'leaf',
                            fixed : true,
dataset :
{
    "name" : "animals",
    "children" : [
        {
            "name" : "dogs",
            "children": [
                {
                    "name" : "hounds",
                    "children" : [
                        {"name" : "basset hound", "distance" : 0.5},
                        {"name" : "bloodhound"},
                        {"name" : "greyhound"},
                        {"name" : "beagle"}
                    ]
                },
                {
                    "name" : "herding dogs",
                    weight : 5,
                    lineStroke : 'blue',
                    tooltip : 'Magic!',
                    "children" : [
                        {"name" : "sheepdog"},
                        {"name" : "German Shepherd"},
                        {"name" : "Collie"},
                        {"name" : "Pug"}
                    ]
                }
            ]
        },
        {
            "name" : "cats",
            "distance" : 2,
            "children": [
                {
                    "name" : "domestic cats",
                    "open" : false,
                    "children" : [
                        {"name" : "Shorthair"},
                        {"name" : "Persian"},
                        {"name" : "Siamese"},
                        {"name" : "Munchkin"}
                    ]
                },
                {
                    "name" : "wild cats",
                    "children" : [
                        {
                            "name" : "big cats",
                            "children" : [
                                {"name" : "tiger, the majestic beast which lives in Asia, has pretty stripes, and is the largest of the big cats"},
                                {"name" : "lion"},
                                {"name" : "cougar"},
                                {"name" : "cheetah"}
                            ]
                        },
                        {
                            "name" : "small cats",
                            "children" : [
                                {"name" : "lynx"},
                                {"name" : "bobcat"},
                                {"name" : "cougar"},
                                {"name" : "cheetah"}
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "name" : "fantasy",
            "children": [
                {"name" : "dragon"},
                {"name" : "griffin"},
                {"name" : "phoenix"},
                {"name" : "harpy"}
            ]
        }
    ]
},
dataset2 :
//          {  "name": "flare",  "children": [   {    "name": "analytics",    open : false, "children": [     {      "name": "cluster",      "children": [       {"name": "AgglomerativeCluster", "size": 3938},       {"name": "CommunityStructure", "size": 3812},       {"name": "HierarchicalCluster", "size": 6714},       {"name": "MergeEdge", "size": 743}      ]     },     {      "name": "graph",      "children": [       {"name": "BetweennessCentrality", "size": 3534},       {"name": "LinkDistance", "size": 5731},       {"name": "MaxFlowMinCut", "size": 7840},       {"name": "ShortestPaths", "size": 5914},       {"name": "SpanningTree", "size": 3416}      ]     },     {      "name": "optimization",      "children": [       {"name": "AspectRatioBanker", "size": 7074}      ]     }    ]   },   {    "name": "animate",    "children": [     {"name": "Easing", "size": 17010},     {"name": "FunctionSequence", "size": 5842},     {      "name": "interpolate",      "children": [       {"name": "ArrayInterpolator", "size": 1983},       {"name": "ColorInterpolator", "size": 2047},       {"name": "DateInterpolator", "size": 1375},       {"name": "Interpolator", "size": 8746},       {"name": "MatrixInterpolator", "size": 2202},       {"name": "NumberInterpolator", "size": 1382},       {"name": "ObjectInterpolator", "size": 1629},       {"name": "PointInterpolator", "size": 1675},       {"name": "RectangleInterpolator", "size": 2042}      ]     },     {"name": "ISchedulable", "size": 1041},     {"name": "Parallel", "size": 5176},     {"name": "Pause", "size": 449},     {"name": "Scheduler", "size": 5593},     {"name": "Sequence", "size": 5534},     {"name": "Transition", "size": 9201},     {"name": "Transitioner", "size": 19975},     {"name": "TransitionEvent", "size": 1116},     {"name": "Tween", "size": 6006}    ]   },   {    "name": "data",    "children": [     {      "name": "converters",      "children": [       {"name": "Converters", "size": 721},       {"name": "DelimitedTextConverter", "size": 4294},       {"name": "GraphMLConverter", "size": 9800},       {"name": "IDataConverter", "size": 1314},       {"name": "JSONConverter", "size": 2220}      ]     },     {"name": "DataField", "size": 1759},     {"name": "DataSchema", "size": 2165},     {"name": "DataSet", "size": 586},     {"name": "DataSource", "size": 3331},     {"name": "DataTable", "size": 772},     {"name": "DataUtil", "size": 3322}    ]   },   {    "name": "display",    "children": [     {"name": "DirtySprite", "size": 8833},     {"name": "LineSprite", "size": 1732},     {"name": "RectSprite", "size": 3623},     {"name": "TextSprite", "size": 10066}    ]   },   {    "name": "flex",    "children": [     {"name": "FlareVis", "size": 4116}    ]   },   {    "name": "physics",    "children": [     {"name": "DragForce", "size": 1082},     {"name": "GravityForce", "size": 1336},     {"name": "IForce", "size": 319},     {"name": "NBodyForce", "size": 10498},     {"name": "Particle", "size": 2822},     {"name": "Simulation", "size": 9983},     {"name": "Spring", "size": 2213},     {"name": "SpringForce", "size": 1681}    ]   },   {    "name": "query",    "children": [     {"name": "AggregateExpression", "size": 1616},     {"name": "And", "size": 1027},     {"name": "Arithmetic", "size": 3891},     {"name": "Average", "size": 891},     {"name": "BinaryExpression", "size": 2893},     {"name": "Comparison", "size": 5103},     {"name": "CompositeExpression", "size": 3677},     {"name": "Count", "size": 781},     {"name": "DateUtil", "size": 4141},     {"name": "Distinct", "size": 933},     {"name": "Expression", "size": 5130},     {"name": "ExpressionIterator", "size": 3617},     {"name": "Fn", "size": 3240},     {"name": "If", "size": 2732},     {"name": "IsA", "size": 2039},     {"name": "Literal", "size": 1214},     {"name": "Match", "size": 3748},     {"name": "Maximum", "size": 843},     {      "name": "methods",      "children": [       {"name": "add", "size": 593},       {"name": "and", "size": 330},       {"name": "average", "size": 287},       {"name": "count", "size": 277},       {"name": "distinct", "size": 292},       {"name": "div", "size": 595},       {"name": "eq", "size": 594},       {"name": "fn", "size": 460},       {"name": "gt", "size": 603},       {"name": "gte", "size": 625},       {"name": "iff", "size": 748},       {"name": "isa", "size": 461},       {"name": "lt", "size": 597},       {"name": "lte", "size": 619},       {"name": "max", "size": 283},       {"name": "min", "size": 283},       {"name": "mod", "size": 591},       {"name": "mul", "size": 603},       {"name": "neq", "size": 599},       {"name": "not", "size": 386},       {"name": "or", "size": 323},       {"name": "orderby", "size": 307},       {"name": "range", "size": 772},       {"name": "select", "size": 296},       {"name": "stddev", "size": 363},       {"name": "sub", "size": 600},       {"name": "sum", "size": 280},       {"name": "update", "size": 307},       {"name": "variance", "size": 335},       {"name": "where", "size": 299},       {"name": "xor", "size": 354},       {"name": "_", "size": 264}      ]     },     {"name": "Minimum", "size": 843},     {"name": "Not", "size": 1554},     {"name": "Or", "size": 970},     {"name": "Query", "size": 13896},     {"name": "Range", "size": 1594},     {"name": "StringUtil", "size": 4130},     {"name": "Sum", "size": 791},     {"name": "Variable", "size": 1124},     {"name": "Variance", "size": 1876},     {"name": "Xor", "size": 1101}    ]   },   {    "name": "scale",    "children": [     {"name": "IScaleMap", "size": 2105},     {"name": "LinearScale", "size": 1316},     {"name": "LogScale", "size": 3151},     {"name": "OrdinalScale", "size": 3770},     {"name": "QuantileScale", "size": 2435},     {"name": "QuantitativeScale", "size": 4839},     {"name": "RootScale", "size": 1756},     {"name": "Scale", "size": 4268},     {"name": "ScaleType", "size": 1821},     {"name": "TimeScale", "size": 5833}    ]   },   {    "name": "util",    "children": [     {"name": "Arrays", "size": 8258},     {"name": "Colors", "size": 10001},     {"name": "Dates", "size": 8217},     {"name": "Displays", "size": 12555},     {"name": "Filter", "size": 2324},     {"name": "Geometry", "size": 10993},     {      "name": "heap",      "children": [       {"name": "FibonacciHeap", "size": 9354},       {"name": "HeapNode", "size": 1233}      ]     },     {"name": "IEvaluable", "size": 335},     {"name": "IPredicate", "size": 383},     {"name": "IValueProxy", "size": 874},     {      "name": "math",      "children": [       {"name": "DenseMatrix", "size": 3165},       {"name": "IMatrix", "size": 2815},       {"name": "SparseMatrix", "size": 3366}      ]     },     {"name": "Maths", "size": 17705},     {"name": "Orientation", "size": 1486},     {      "name": "palette",      "children": [       {"name": "ColorPalette", "size": 6367},       {"name": "Palette", "size": 1229},       {"name": "ShapePalette", "size": 2059},       {"name": "SizePalette", "size": 2291}      ]     },     {"name": "Property", "size": 5559},     {"name": "Shapes", "size": 19118},     {"name": "Sort", "size": 6887},     {"name": "Stats", "size": 6557},     {"name": "Strings", "size": 22026}    ]   },   {    "name": "vis",    "children": [     {      "name": "axis",      "children": [       {"name": "Axes", "size": 1302},       {"name": "Axis", "size": 24593},       {"name": "AxisGridLine", "size": 652},       {"name": "AxisLabel", "size": 636},       {"name": "CartesianAxes", "size": 6703}      ]     },     {      "name": "controls",      "children": [       {"name": "AnchorControl", "size": 2138},       {"name": "ClickControl", "size": 3824},       {"name": "Control", "size": 1353},       {"name": "ControlList", "size": 4665},       {"name": "DragControl", "size": 2649},       {"name": "ExpandControl", "size": 2832},       {"name": "HoverControl", "size": 4896},       {"name": "IControl", "size": 763},       {"name": "PanZoomControl", "size": 5222},       {"name": "SelectionControl", "size": 7862},       {"name": "TooltipControl", "size": 8435}      ]     },     {      "name": "data",      "children": [       {"name": "Data", "size": 20544},       {"name": "DataList", "size": 19788},       {"name": "DataSprite", "size": 10349},       {"name": "EdgeSprite", "size": 3301},       {"name": "NodeSprite", "size": 19382},       {        "name": "render",        "children": [         {"name": "ArrowType", "size": 698},         {"name": "EdgeRenderer", "size": 5569},         {"name": "IRenderer", "size": 353},         {"name": "ShapeRenderer", "size": 2247}        ]       },       {"name": "ScaleBinding", "size": 11275},       {"name": "Tree", "size": 7147},       {"name": "TreeBuilder", "size": 9930}      ]     },     {      "name": "events",      "children": [       {"name": "DataEvent", "size": 2313},       {"name": "SelectionEvent", "size": 1880},       {"name": "TooltipEvent", "size": 1701},       {"name": "VisualizationEvent", "size": 1117}      ]     },     {      "name": "legend",      "children": [       {"name": "Legend", "size": 20859},       {"name": "LegendItem", "size": 4614},       {"name": "LegendRange", "size": 10530}      ]     },     {      "name": "operator",      "children": [       {        "name": "distortion",        "children": [         {"name": "BifocalDistortion", "size": 4461},         {"name": "Distortion", "size": 6314},         {"name": "FisheyeDistortion", "size": 3444}        ]       },       {        "name": "encoder",        "children": [         {"name": "ColorEncoder", "size": 3179},         {"name": "Encoder", "size": 4060},         {"name": "PropertyEncoder", "size": 4138},         {"name": "ShapeEncoder", "size": 1690},         {"name": "SizeEncoder", "size": 1830}        ]       },       {        "name": "filter",        "children": [         {"name": "FisheyeTreeFilter", "size": 5219},         {"name": "GraphDistanceFilter", "size": 3165},         {"name": "VisibilityFilter", "size": 3509}        ]       },       {"name": "IOperator", "size": 1286},       {        "name": "label",        "children": [         {"name": "Labeler", "size": 9956},         {"name": "RadialLabeler", "size": 3899},         {"name": "StackedAreaLabeler", "size": 3202}        ]       },       {        "name": "layout",        "children": [         {"name": "AxisLayout", "size": 6725},         {"name": "BundledEdgeRouter", "size": 3727},         {"name": "CircleLayout", "size": 9317},         {"name": "CirclePackingLayout", "size": 12003},         {"name": "DendrogramLayout", "size": 4853},         {"name": "ForceDirectedLayout", "size": 8411},         {"name": "IcicleTreeLayout", "size": 4864},         {"name": "IndentedTreeLayout", "size": 3174},         {"name": "Layout", "size": 7881},         {"name": "NodeLinkTreeLayout", "size": 12870},         {"name": "PieLayout", "size": 2728},         {"name": "RadialTreeLayout", "size": 12348},         {"name": "RandomLayout", "size": 870},         {"name": "StackedAreaLayout", "size": 9121},         {"name": "TreeMapLayout", "size": 9191}        ]       },       {"name": "Operator", "size": 2490},       {"name": "OperatorList", "size": 5248},       {"name": "OperatorSequence", "size": 4190},       {"name": "OperatorSwitch", "size": 2581},       {"name": "SortOperator", "size": 2023}      ]     },     {"name": "Visualization", "size": 16540}    ]   }  ] }
//*
{
    name : 'able',
    children : [
        {name : 'one'},
        {name : 'two', children : []},
        {name : 'three', children : [{name : 'fred', children : [
            {'name' : 'pebbles'},
            {name : 'bambam'},
            {name : 'gazoo',
                children :
                    [
                        {name : 'rutherford',
                        children : [
                            {name : 'b',
                            children : [
                                {name : 'hayes', children : [{name : 'william', children : [ { name : 'mckinkley', children : [{name : 'taft'}]}]}]}
                                ]
                            }
                        ]
                        }
                    ]
            }]}]},
        {name : 'four having a very big very long very honking label', 'children' : [{name : 'x', distance : 2}, {name : 'y'}, {name : 'z', distance : .5}]},
    ]
}
//*/
,
                                }
                            );

                            $.jqElem('div')/*('#treeCompare')*/.kb_bind($tree, 'comparison');

                            var $venn = new kbaseVenndiagram($('#venn'), {
                                //debug : true,
ZEDo : 2 * Math.PI * 25 / 360,
transitionTime : 250,
                                    startingPosition : pos,
                                    //choppedGroups : true,
                                    labels : true,

                                    xLabel      : 'Some useful experiment',
                                    sortSubgroups:undefined,

                                    dataset : {

                                        c1 : {
                                            label : 'Molecular Function',
                                            value : 200,
                                            tooltip : 'c1!',
                                            action : function(d) { alert('Clicked on ' + d.label) },
                                            fillColor : 'red',
                                        },
                                        c2 : {
                                            label : 'Biological Process',
                                            value : 200,
                                            tooltip : 'c2!'
                                        },
                                        c3 : {
                                            label : 'Cellular Component',
                                            value : 200,
                                            tooltip : 'c3!'
                                        },

                                        c1c2 : {
                                            value : 23,
                                            tooltip : 'c1c2!'
                                        },
                                        c1c3 : {
                                            value : 161,
                                            tooltip : 'c1c3!'
                                        },
                                        c2c3 : {
                                            value : 56,
                                            tooltip : 'c2c3!'
                                        },
                                        c1c2c3 : {
                                            value : 273,
                                            tooltip : 'c1c2c3!'
                                        },
                                    },



                                }
                            );

                        });
                    });
                });


            //-->
        </script>
    </head>

    <body>

        <div>
            Simple demonstrations of visualization widgets. Mouse over the charts, they're all interactive.<br>
            The force directed graph has draggable nodes, and they can be selected by drawing on the box.
        </div>

        <ul class = 'nav nav-tabs ' id = 'tabs'>
            <li roll = 'presentation' class = 'active'><a href = '#treePane'>Treechart</a></li>
            <li roll = 'presentation' ><a href = '#sparkPane'>Spark lines</a></li>
            <li roll = 'presentation' ><a href = '#linePane'>Line Chart</a></li>
            <li roll = 'presentation' ><a href = '#barPane'>Bar Chart</a></li>
            <li roll = 'presentation' ><a href = '#scatterPane'>Scatter Plot</a></li>
            <li roll = 'presentation' ><a href = '#piePane'>Pie Chart</a></li>
            <li roll = 'presentation' ><a href = '#hmcPane'>Circular Heatmap</a></li>
            <li roll = 'presentation' ><a href = '#hmPane'>Heatmap</a></li>
            <li roll = 'presentation' ><a href = '#networkPane'>Network Graph</a></li>
            <li roll = 'presentation' ><a href = '#vennPane'>Venn Diagram</a></li>
            <li roll = 'presentation' ><a href = '#accordionPane'>Accordion</a></li>
            <li roll = 'presentation' ><a href = '#jsonPane'>JSON Reflector</a></li>
            <li roll = 'presentation' ><a href = '#PMIbarchartWidget'>PMI Barchart</a></li>
        </ul>

        <div class = 'tab-content'>
            <div roll = 'tabpanel' class = 'tab-pane active' id = 'treePane'>
                <div id = 'treechartWidget' style = 'border : 1px solid green; width : 800px; height : 800px'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane' id = 'sparkPane'>
                <div id = 'spark1' style = 'border : 0px solid green; width : 100px; height : 25px; display : inline-block'></div>
                <div id = 'spark2' style = 'border : 0px solid green; width : 100px; height : 25px; display : inline-block'></div>
                <div id = 'spark3' style = 'border : 0px solid green; width : 100px; height : 25px; display : inline-block'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane' id = 'linePane'>
                <div id = 'linechartWidget' style = 'border : 1px solid green; width : 900px; height : 600px'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'barPane'>
                <div id = 'barchartWidget' style = 'border : 1px solid green; width : 500px; height : 300px'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'scatterPane'>
                <div id = 'scatterplotWidget' style = 'border : 1px solid green; width : 500px; height : 300px'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'piePane'>
                <div id = 'piechartWidget' style = 'border : 1px solid green; width : 1000px; height : 500px'></div>
                <button id = 'random-pie'>Randomize pie chart</button>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'hmcPane'>
                <div id = 'circularHeatmap' style = 'border : 1px solid green; width : 800px; height : 800px'></div>
                <button id = 'random-hm_c'>Randomize heatmap</button><button id = 'full-random-hm_c'>Fully randomize heatmap</button>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'hmPane'>
                <div id = 'heatmapWidget' style = 'border : 1px solid green; width : 500px; height : 500px'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'networkPane'>
                <div id = 'forcedNetwork' style = 'border : 1px solid green; width : 500px; height : 500px'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'vennPane'>
                <div id = 'venn' style = 'border : 1px solid green; width : 800px; height : 800px'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'accordionPane'>
                <div id = 'accordion'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'jsonPane'>
                <div id = 'json' style = 'border : 1px solid green;'></div>
            </div>
            <div roll = 'tabpanel' class = 'tab-pane ' id = 'pmiPane'>
                <div id = 'PMIbarchartWidget' style = 'border : 1px solid green;'></div>
            </div>

        </div>


    </body>

</html>
